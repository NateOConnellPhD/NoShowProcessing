% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_eligible.R
\name{get_eligible}
\alias{get_eligible}
\title{Get Eligible Patients for Outreach}
\usage{
get_eligible(df)
}
\arguments{
\item{df}{A data frame containing patient-level data, including:
- `completed_wcv_date`, `next_wcv_date`
- `completed_wcv_type`, `next_wcv_type`
- `language`, `home_phone`, `cell_phone`
- Other optional duplicate tracking variables}
}
\value{
A data frame of patients eligible for import into REDCap, with:
\describe{
  \item{`redcap_repeat_instance`}{Numeric indicator of household instance for REDCap repeating form.}
  \item{`form_1_complete`}{Flag indicating form is complete.}
  \item{All original variables except those dropped during processing.}
}
}
\description{
Filters and formats a dataset of potential outreach patients to create a REDCap-ready import file.
This function removes ineligible entries, adjusts the repeat instance ID for households with
multiple children, and performs final cleanup for import.
}
\details{
The following steps are performed:
\enumerate{
  \item Updates `next_wcv_date` and `next_wcv_type` if `completed_wcv_date/type` exist.
  \item Filters out patients with:
    \itemize{
      \item a scheduled/rescheduled visit (`next_wcv_date` not missing),
      \item unsupported language (not "en" or "es"),
      \item invalid or missing phone numbers.
    }
  \item Drops unnecessary variables and assigns `redcap_repeat_instance = 1`.
  \item Identifies households with multiple patients and assigns increasing `redcap_repeat_instance`.
  \item Drops temporary or unused duplicate-tracking variables.
  \item Adds a completion flag (`form_1_complete = 1`).
  \item Excludes specific test or advisor phone numbers.
}
}
\examples{
\dontrun{
eligible <- get_eligible(patient_data)
head(eligible)
table(eligible$redcap_repeat_instance)
}

}
